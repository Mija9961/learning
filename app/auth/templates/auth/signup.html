{% extends "base.html" %}

{% block title %}Sign Up - My App{% endblock %}

{% block link %}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/signup.css') }}" />
{% endblock %}

{% block content %}

  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      <div class="flash-messages">
        {% for category, message in messages %}
          <div class="alert alert-{{ category }}">
            {{ message }}
          </div>
        {% endfor %}
      </div>
    {% endif %}
  {% endwith %}

<h2>Modal Signup Form</h2>

<!-- Sign Up Button -->
<button onclick="document.getElementById('id01').style.display='block'" style="width:auto; margin-left: 48%;border-radius: 10%;">Sign Up</button>

<!-- Modal -->
<div id="id01" class="modal">
  <span onclick="document.getElementById('id01').style.display='none'" class="close" title="Close Modal">&times;</span>
  <form class="modal-content" action="{{ url_for('auth.signup') }}" method="POST">
    {{ form.hidden_tag() }}
    <div class="container">
      <h1>Sign Up</h1>
      <p>Please fill in this form to create an account.</p>
      <hr>
      
      <label for="username"><b>Username</b></label>
      {{ form.username(class_='form-control', placeholder='Enter Username', required=True) }}
      {% for error in form.username.errors %}
        <div class="text-danger">{{ error }}</div>
      {% endfor %}

      <label for="email"><b>Email</b></label>
      {{ form.email(class_='form-control', placeholder='Enter Email', required=True) }}
      {% for error in form.email.errors %}
        <div class="text-danger">{{ error }}</div>
      {% endfor %}

      <label for="password"><b>Password</b></label>
      {{ form.password(class_='form-control', placeholder='Enter Password', required=True) }}
      {% for error in form.password.errors %}
        <div class="text-danger">{{ error }}</div>
      {% endfor %}

      <label for="confirm_password"><b>Repeat Password</b></label>
      {{ form.confirm_password(class_='form-control', placeholder='Repeat Password', required=True) }}
      {% for error in form.confirm_password.errors %}
        <div class="text-danger">{{ error }}</div>
      {% endfor %}

      <label>
        {{ form.remember() }} Remember me
      </label>

      <p>By creating an account you agree to our <a href="#" style="color:dodgerblue">Terms & Privacy</a>.</p>

      <div class="clearfix button-container">
        {{ form.submit(class_='signupbtn', value='Sign Up') }}
        <button type="button" onclick="document.getElementById('id01').style.display='none'" class="cancelbtn">Cancel</button>
      </div>
    </div>
  </form>
</div>

{% endblock %}

{% block script %}
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
{% endblock %}

